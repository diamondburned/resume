%-------------------------
% Resume in Latex
% Author : Jake Gutierrez
% Based off of: https://github.com/sb2nov/resume
% License : MIT
%------------------------

\documentclass[letterpaper,12pt]{article}

\usepackage{fontawesome}
\usepackage{latexsym}
\usepackage[empty]{fullpage}
\usepackage{titlesec}
\usepackage{marvosym}
\usepackage[usenames,dvipsnames]{color}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage[hidelinks]{hyperref}
\usepackage{fancyhdr}
\usepackage[english]{babel}
\usepackage{tabularx}
\usepackage{soul}
\usepackage{cmap}
\usepackage{ulem}
\usepackage{contour}
\usepackage{accsupp}


%----------FONT OPTIONS----------
% sans-serif
% \usepackage[sfdefault]{roboto}
% \usepackage[sfdefault]{noto-sans}
% \usepackage[default]{raleway}
% \usepackage[default]{opensans}

\usepackage[T1]{fontenc}
\usepackage[default,proportional]{lato}
\usepackage[]{josefin}

% LaTeX has awful underlining, let's fix that.
% See https://alexwlchan.net/2017/latex-underlines/.
\contourlength{0.8pt}
\renewcommand{\ULdepth}{1.8pt}
\renewcommand{\ul}[1]{%
  \dashuline{#1}%
}

% This does not work on resume scanners :(
% \renewcommand{\ul}[1]{%
%   \BeginAccSupp{method=pdfstringdef,unicode,ActualText={#1}}%
%     \uline{\contour{white}{#1}}%
%   \EndAccSupp{}%
% }

% TODO: figure this stuff out...
% \setmainfont[ExternalLocation=<getenv "FONTS_PATH">]{Lexend-Light.ttf}[
% \setmainfont[ExternalLocation=fonts/]{Lexend-Light.ttf}[
%   Ligatures=TeX,
%   BoldFont=Lexend-Regular.ttf,
%   AutoFakeSlant=0.2,
% ]
% \setmainfont[
%   Path=<getenv "FONTS_PATH">,
%   Ligatures=TeX,
%   BoldFont=Lexend-Regular.ttf,
%   AutoFakeSlant=0.2,
% ]{Lexend-Light.ttf}
% \setmainfont[
%   Path=fonts/,
%   Extension=.ttf,
%   UprightFont=LexendDeca-Light,
%   BoldFont=LexendDeca-Regular,
%   AutoFakeSlant=0.2,
% ]{LexendDeca}
% \setmainfont[Path=fonts/]{LexendDeca-Light.ttf}[
%   AutoFakeSlant=0.2,
%   AutoFakeBold=0.2,
% ]

% serif
% \usepackage{CormorantGaramond}
% \usepackage{charter}


\pagestyle{fancy}
\fancyhf{} % clear all header and footer fields
\fancyfoot{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Adjust margins
\addtolength{\oddsidemargin}{-0.5in}
\addtolength{\evensidemargin}{-0.5in}
\addtolength{\textwidth}{1in}
\addtolength{\topmargin}{-.5in}
\addtolength{\textheight}{1.0in}

\urlstyle{same}

\raggedbottom
\raggedright
\setlength{\tabcolsep}{0in}

% Sections formatting
\titleformat{\section}{
  \vspace{-8pt}\scshape\raggedright\bfseries
}{}{0em}{}[\color{black}\titlerule \vspace{-6pt}]

%-------------------------
% Custom commands
\newcommand{\resumeItem}[1]{
  \item\small{#1}
}

\newcommand{\resumeSubheading}[4]{
  \item
  \begin{tabular*}{0.965\textwidth}[t]{l@{\extracolsep{\fill}}r}
    \textbf{#1} & #2 \\
    \textit{#3} & \textit{ #4} \\
  \end{tabular*}
}

\renewcommand\labelitemii{$\vcenter{\hbox{\small$\bullet$}}$}

\newcommand{\resumeSubHeadingListStart}{
  \begin{itemize}[leftmargin=0.15in, label={}, itemsep=0pt]
}
\newcommand{\resumeSubHeadingListEnd}{
  \end{itemize}
}

\newcommand{\resumeItemListStart}{
  \vspace{-6pt}\begin{itemize}[leftmargin=0.25in, itemsep=2pt, rightmargin=0.15in]
}
\newcommand{\resumeItemListEnd}{
  \end{itemize}
}

\renewcommand{\faHeader}[1]{
  \raisebox{-0.05\height}{\faicon{#1}}
}

%-------------------------------------------
%%%%%%  RESUME STARTS HERE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%----------HEADING----------
\begin{center}
  <with .basics>
  {\josefinsemibold\Huge{<.name>}} \\

  \vspace{4pt}
  \small{\faHeader{envelope-o} \href{mailto:<.email>}{\ul{<.email>}}} $|$
  \small{\faHeader{github} \href{https://github.com/<.github>}{\ul{<.github>}}} $|$
  \small{\faHeader{link} \href{https://<.website>}{\ul{https://<.website>}}} $|$
  \small{\faHeader{linkedin-square} \href{https://linkedin.com/in/<.linkedin>}{\ul{<.name>}}}
  <end>
\end{center}


%-----------EDUCATION-----------
\section{EDUCATION}
  \resumeSubHeadingListStart
    <range .education>
    \resumeSubheading
      {<.institution>}{\small{<.location>}}
      {<.studyType> in <.area>}{\small{<.endDate>}}
    <end>
  \resumeSubHeadingListEnd



%-----------EXPERIENCE-----------
\section{WORK EXPERIENCE}
  \vspace{2pt}
  \resumeSubHeadingListStart
    <range .work>
    \vspace{-2pt} % compensate
    \resumeSubheading
      {<.company>}{\small{<.location>}}
      {<.position>}{\small{<.startDate> - <.endDate>}}
    \resumeItemListStart
      <range .highlights>
      \resumeItem{<.>}
      <end>
    \resumeItemListEnd
    <end>
  \resumeSubHeadingListEnd


%-----------PROJECTS-----------
\section{PROJECTS}
  \resumeSubHeadingListStart
    <range .projects>
    \item{
      \begin{tabular*}{0.965\textwidth}[t]{l @{\extracolsep{\fill}} r}
        {\textbf{<.name>} \ | \ \textit{\small{<conv.Join .keywords ", ">}}} &
        {\href{https://<.url>}{\small{
          <- if (strings.HasPrefix "github.com/" .url) ->
            \ul{<strings.TrimPrefix "github.com/" .url>} \ \raisebox{-0.05\height}{\faGithub}
          <- else ->
            \ul{<.url>} \ \raisebox{-0.05\height}{\faLink}
          <- end ->
        }}}
      \end{tabular*} \\
      \small{<.description>}
    }
    <end>
  \resumeSubHeadingListEnd

%
%-----------PROGRAMMING SKILLS-----------
\section{SKILLS}
  \resumeSubHeadingListStart
    \item
    \begin{tabular*}{0.965\textwidth}[t]{l@{ \ }l}
      <range .skills>
      \small{\textbf{<.name>}:} & \small{<conv.Join .keywords "">} \\
      <end>
    \end{tabular*}
  \resumeSubHeadingListEnd


%-------------------------------------------
\end{document}
